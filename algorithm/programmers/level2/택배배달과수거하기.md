---
layout: page
title: "/택배배달과수거하기"
permalink: /택배배달과수거하기
---

# 택배배달과수거하기

<img src="/assets/images/택배배달과수거하기.png" width="100%" alt="택배배달과수거하기" />


```javascript
function solution(cap, n, deliveries, pickups) {
    while (true) {
        const d = deliveries.pop();
        if (d !== 0) {
            if (d !== undefined) deliveries.push(d);
            break;
        }
    }
    while (true) {
        const p = pickups.pop();
        if (p !== 0) {
            if (p !== undefined) pickups.push(p);
            break;
        }
    }

    let answer = 0;
    while (true) {
        const distance = Math.max(deliveries.length, pickups.length);
        answer += distance * 2;
        process(cap, deliveries);
        process(cap, pickups);
        if (deliveries.length === 0 && pickups.length === 0) {
            break;
        }
    }

    return answer;
}

function process(cap, homes) {
    for (let i = homes.length - 1; i >= 0; i--) {
        let h = homes[i];
        const min = Math.min(h, cap);
        h -= min;
        cap -= min;
        if (h === 0) {
            homes.pop();
        } else {
            homes[i] = h;
        }
        if (cap === 0 && h !== 0) {
            break;
        }
    }
    return homes;
}
```