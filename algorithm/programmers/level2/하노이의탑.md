---
layout: page
title: "/하노이의탑"
permalink: /하노이의탑
---

# 하노이의탑

<img src="/assets/images/programmers/하노이의탑-1.png" width="100%" alt="하노이의탑" />
<img src="/assets/images/programmers/하노이의탑-2.png" width="100%" alt="하노이의탑" />
<img src="/assets/images/programmers/하노이의탑-3.png" width="100%" alt="하노이의탑" />
<img src="/assets/images/programmers/하노이의탑-4.png" width="100%" alt="하노이의탑" />
<img src="/assets/images/programmers/하노이의탑-5.png" width="100%" alt="하노이의탑" />
<img src="/assets/images/programmers/하노이의탑-6.png" width="100%" alt="하노이의탑" />
<img src="/assets/images/programmers/하노이의탑-7.png" width="100%" alt="하노이의탑" />
<img src="/assets/images/programmers/하노이의탑-8.png" width="100%" alt="하노이의탑" />
<img src="/assets/images/programmers/하노이의탑-9.png" width="100%" alt="하노이의탑" />

```javascript
function solution(n) {
    const answer = [];
    const tops = [[], [], []];
    for (let i = n; i >= 1; i--){
        tops[0].push(i);
    }
    
    let before = undefined;
    while (tops[2].length !== n) {
        // choice
        let from;
        let remain;
        for (let i = 0; i < tops.length; i++) {
            const t = tops[i];
            if (t.length > 0 && t[t.length - 1] !== before) {
                const top = t[t.length - 1];
                const otherTops = [0,1,2].filter(e => e !== i);
                if (otherTops.some(e => {
                    let tp = tops[e];
                    return tp.length === 0 || tp[tp.length - 1] > top;
                })) {
                    from = i;
                    remain = [0,1,2].filter(e => e !== from);
                    before = top;
                    break;
                }
            }
        }

        // move
        let to = undefined;
        if (tops[from].length % 2 === 0) {
            to = remain[0];
        } else {
            to = remain[1];
        }
        tops[to].push(tops[from].pop());
        answer.push([from + 1, to + 1]);
    }

    return answer;
}
```