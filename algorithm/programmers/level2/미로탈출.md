---
layout: page
title: "/미로탈출"
permalink: /미로탈출
---

# 미로탈출

```javascript
const solution = (maps) => {
    let S, L, E;
    for (let i = 0; i < maps.length; i++) {
        for (let j = 0; j < maps[0].length; j++) {
            if (S !== undefined && L !== undefined && E !== undefined) {
                break;
            }
            if (maps[i][j] === 'S') {
                S = [i,j];
            } else if (maps[i][j] === 'L') {
                L = [i,j];
            } else if (maps[i][j] === 'E') {
                E = [i,j];
            }
        }
    }
    let minPathForL = search(maps, S, L);
    if (minPathForL === -1) {
        return -1;
    }
    let minPathForE = search(maps, L, E);
    if (minPathForE === -1) {
        return -1;
    }
    return minPathForE + minPathForL;
}

const search = (maps, start, end) => {
    const queue = [{current: start, move: 0}];
    const directions = [[-1,0], [1,0], [0,1], [0,-1]];
    const visited = {};

    while (queue.length !== 0) {
        const {current, move} = queue.shift();
        if (current[0] === end[0] && current[1] === end[1]) {
            return move;
        }
        for (const d of directions) {
            const next = [current[0] + d[0], current[1] + d[1]];
            if (
                next[0] < 0 || next[0] > maps.length - 1 ||
                next[1] < 0 || next[1] > maps[0].length - 1
            ) {
                continue
            }
            if (maps[next[0]][next[1]] === 'X') {
                continue
            }
            if (visited[`${next[0]},${next[1]}`]) {
                continue
            }
            visited[`${next[0]},${next[1]}`] = true;
            queue.push({current: next, move: move + 1});
        }
    }

    return -1;
}
```